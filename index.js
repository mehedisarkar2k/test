"use strict";var e=require("react"),n=require("crypto-js"),t=require("uuid"),a=require("axios"),o=function(){return o=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},o.apply(this,arguments)};function r(e,n,t,a){return new(t||(t=Promise))((function(o,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}l((a=a.apply(e,n||[])).next())}))}function s(e,n){var t,a,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,i[0]&&(s=0)),s;)try{if(t=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],a=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function i(e,n,t){if(t||2===arguments.length)for(var a,o=0,r=n.length;o<r;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return e.concat(a||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var l={messages:[],messagesLoading:!1,allMessagesLoaded:!1,followUpQuestions:[],quickMessages:[],sources:[],config:null,loading:!0,error:null,isOpen:!1},c=function(e,n){switch(n.type){case"CONFIG_LOADING":return o(o({},e),{loading:!0,error:null});case"CONFIG_SUCCESS":return o(o({},e),{loading:!1,config:n.payload});case"CONFIG_ERROR":return o(o({},e),{loading:!1,error:n.payload});case"SET_TOKENS":case"CLEAR_TOKENS":return o({},e);case"SEND_MESSAGE":return o(o({},e),{messages:i(i([],e.messages,!0),[n.payload],!1),messagesLoading:!0});case"RECEIVE_MESSAGE":return o(o({},e),{messages:i(i([],e.messages,!0),[n.payload],!1),messagesLoading:!1});case"FETCH_MESSAGES_SUCCESS":return o(o({},e),{messages:n.payload,allMessagesLoaded:!0});case"FETCH_MESSAGES_ERROR":return o(o({},e),{error:n.payload});case"TOGGLE_CHAT":return o(o({},e),{isOpen:!e.isOpen});case"SET_FOLLOW_UP_QUESTIONS":return o(o({},e),{followUpQuestions:n.payload});case"SET_QUICK_MESSAGES":return o(o({},e),{quickMessages:n.payload});case"SET_SOURCES":return o(o({},e),{sources:n.payload});default:return e}},d=a.create({baseURL:"https://qnfemk6n6i.eu-west-1.awsapprunner.com",headers:{"Content-Type":"application/json"}}),u=function(e,n){return r(void 0,void 0,void 0,(function(){return s(this,(function(t){return[2,d.get("/api/v1/agent/config-room",{headers:{"X-Access-Key":e,"X-Agentroom-Key":n}})]}))}))},m=e.createContext(void 0),h=function(a){var i=a.children,h=a.accessKey,p=e.useReducer(c,l),C=p[0],g=p[1],_=e.useCallback((function(){var e=localStorage.getItem("proagentKey");if(e){var t=function(e,t){return n.AES.decrypt(e,t).toString(n.enc.Utf8)}(e,h);try{var a=JSON.parse(t);return{secreattoken:a.secreattoken,refreshtoken:a.refreshtoken}}catch(e){return console.error("Error parsing decrypted token data:",e),null}}return null}),[h]),f=e.useCallback((function(e,t){var a={secreattoken:e,refreshtoken:t},o=function(e,t){return n.AES.encrypt(e,t).toString()}(JSON.stringify(a),h);localStorage.setItem("proagentKey",o)}),[h]),x=e.useCallback((function(){localStorage.removeItem("proagentKey")}),[]);return e.useEffect((function(){r(void 0,void 0,void 0,(function(){var e,n,t,a,o,i,l,c;return s(this,(function(m){switch(m.label){case 0:return m.trys.push([0,5,,6]),e=_(),n="",t="",e&&(n=e.secreattoken,t=e.refreshtoken),[4,u(h,n)];case 1:return a=m.sent().data,!n&&(null===(l=a.data)||void 0===l?void 0:l.agentRoomKey)&&(n=a.data.agentRoomKey,(null===(c=a.data)||void 0===c?void 0:c.roomKeyRefreshToken)&&(t=a.data.roomKeyRefreshToken)),n&&t?a.success&&a.data?(g({type:"CONFIG_SUCCESS",payload:{agentRoomKey:n,roomKeyRefreshToken:t,agent:a.data.agent}}),f(n,t),[4,(p=n,r(void 0,void 0,void 0,(function(){return s(this,(function(e){return[2,d.get("/api/v1/agent/messages",{headers:{"X-Agentroom-Key":p}})]}))})))]):[3,3]:(g({type:"CONFIG_ERROR",payload:"Invalid access key"}),[2]);case 2:return(o=m.sent().data).success&&o.data?g({type:"FETCH_MESSAGES_SUCCESS",payload:o.data.messages}):g({type:"FETCH_MESSAGES_ERROR",payload:o.message}),[3,4];case 3:g({type:"CONFIG_ERROR",payload:a.message}),m.label=4;case 4:return[3,6];case 5:return i=m.sent(),console.log("ðŸ”¥ ~ fetchChatConfig ~ error:",i),x(),g({type:"CONFIG_ERROR",payload:i.message}),[3,6];case 6:return[2]}var p}))}))}),[h]),e.createElement(m.Provider,{value:{state:C,toggleChat:function(){g({type:"TOGGLE_CHAT"})},sendMessage:function(e){return r(void 0,void 0,void 0,(function(){var n,a,i,l,c,u,m,h;return s(this,(function(p){switch(p.label){case 0:n={id:t.v4(),sender:"CUSTOMER",text:e,sendAt:(new Date).toISOString()},g({type:"SEND_MESSAGE",payload:n}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(_=null===(l=C.config)||void 0===l?void 0:l.agentRoomKey,f=e,r(void 0,void 0,void 0,(function(){return s(this,(function(e){return[2,d.post("/api/v1/agent/ask",{query:f},{headers:{"X-Agentroom-Key":_}})]}))})))];case 2:return a=p.sent().data,i={id:t.v4(),sender:"AGENT",text:(null===(c=a.data)||void 0===c?void 0:c.answer)||"...",sendAt:(new Date).toISOString()},g({type:"RECEIVE_MESSAGE",payload:i}),g({type:"SET_FOLLOW_UP_QUESTIONS",payload:(null===(u=a.data)||void 0===u?void 0:u.followUpQuestions)||[]}),g({type:"SET_QUICK_MESSAGES",payload:(null===(m=a.data)||void 0===m?void 0:m.quickMessages)||[]}),g({type:"SET_SOURCES",payload:(null===(h=a.data)||void 0===h?void 0:h.sources)||[]}),[3,4];case 3:return p.sent(),g({type:"SEND_MESSAGE",payload:o(o({},n),{sendError:!1})}),[3,4];case 4:return[2]}var _,f}))}))}}},i)},p=function(){var n=e.useContext(m);if(void 0===n)throw new Error("useChat must be used within a ChatProvider");return n};function C(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var g="chatHeader-module_chatHeader__DQVtC",_="chatHeader-module_chatLogo__NdLGC",f="chatHeader-module_botLogo__cX9rf",x="chatHeader-module_chatInfo__7IxgJ",v="chatHeader-module_onlineStatus__hwnYq",y="chatHeader-module_statusDot__ax-T7",E="chatHeader-module_closeBtn__Ipcwm",b="chatHeader-module_close__13TJu";C(".chatHeader-module_chatHeader__DQVtC {\n  display: flex;\n  align-items: center;\n  background-color: #007bff; /* Blue header */\n  padding: 10px 20px;\n  height: 75px !important;\n  border-radius: 10px 10px 0 0;\n  color: white;\n  font-family: Arial, sans-serif;\n  width: 100%;\n}\n\n.chatHeader-module_chatLogo__NdLGC {\n  margin-right: 10px;\n  position: absolute;\n  left: -20px;\n  top: -1px;\n  width: 65px;\n  height: 65px;\n  border-radius: 50%;\n  background-color: rgb(0, 123, 255);\n  padding: 3px;\n  box-shadow: 0 0 10px 0 rgba(0, 123, 255, 0.2);\n}\n\n@media screen and (max-width: 425px) {\n  .chatHeader-module_chatHeader__DQVtC {\n    height: 60px !important;\n  }\n\n  .chatHeader-module_chatLogo__NdLGC {\n    width: 52px;\n    height: 52px;\n    left: -16px;\n    top: 0px;\n  }\n}\n\n.chatHeader-module_botLogo__cX9rf {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background-color: white;\n}\n\n.chatHeader-module_chatInfo__7IxgJ {\n  margin-left: 40px;\n  display: flex;\n}\n\n.chatHeader-module_chatInfo__7IxgJ h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.chatHeader-module_onlineStatus__hwnYq {\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n}\n\n.chatHeader-module_statusDot__ax-T7 {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background-color: #00ff00; /* Green dot */\n  margin-right: 5px;\n}\n\n.chatHeader-module_closeBtn__Ipcwm {\n  position: absolute;\n  height: 30px;\n  width: 30px;\n  right: -8px;\n  top: -8px;\n  background-color: white;\n  border-radius: 50%;\n  display: flex;\n  padding: 10px;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.2);\n}\n\n.chatHeader-module_close__13TJu {\n  background-color: transparent;\n  border: none;\n  color: #007bff; /* Blue color */\n  font-size: 16px;\n  cursor: pointer;\n}\n");var w="data:image/svg+xml,%3csvg width='184' height='183' viewBox='0 0 184 183' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg filter='url(%23filter0_d_0_1)'%3e%3ccircle cx='91.8333' cy='91.5' r='66.5' fill='%2372C5E3'/%3e%3c/g%3e%3cpath d='M61.9999 104.833C60.055 104.833 58.1897 104.061 56.8145 102.685C55.4392 101.31 54.6666 99.4449 54.6666 97.5C54.6666 95.5551 55.4392 93.6898 56.8145 92.3146C58.1897 90.9393 60.055 90.1667 61.9999 90.1667M120.667 104.833C122.612 104.833 124.477 104.061 125.852 102.685C127.227 101.31 128 99.4449 128 97.5C128 95.5551 127.227 93.6898 125.852 92.3146C124.477 90.9393 122.612 90.1667 120.667 90.1667M72.9999 73.6667V62.6667M109.667 73.6667V62.6667' stroke='white' stroke-width='5.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M72.9999 62.6666C75.025 62.6666 76.6666 61.025 76.6666 59C76.6666 56.9749 75.025 55.3333 72.9999 55.3333C70.9749 55.3333 69.3333 56.9749 69.3333 59C69.3333 61.025 70.9749 62.6666 72.9999 62.6666Z' stroke='white' stroke-width='5.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M109.667 62.6666C111.692 62.6666 113.333 61.025 113.333 59C113.333 56.9749 111.692 55.3333 109.667 55.3333C107.642 55.3333 106 56.9749 106 59C106 61.025 107.642 62.6666 109.667 62.6666Z' stroke='white' stroke-width='5.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M96.8333 73.6667H85.8333C75.4639 73.6667 70.2756 73.6667 67.0563 76.9997C63.8369 80.3327 63.8333 85.697 63.8333 96.4257C63.8333 107.154 63.8333 112.519 67.0563 115.852C70.2756 119.185 75.4639 119.185 85.8333 119.185H89.5916C92.4956 119.185 93.5186 119.782 95.5206 121.96C97.7316 124.369 101.156 127.585 104.255 128.333C108.658 129.396 109.153 127.926 108.171 123.728C107.892 122.532 107.192 120.622 107.929 119.507C108.343 118.884 109.029 118.73 110.404 118.422C112.571 117.938 114.36 117.146 115.61 115.852C118.833 112.515 118.833 107.154 118.833 96.4257C118.833 85.697 118.833 80.3327 115.61 76.9997C112.391 73.6667 107.203 73.6667 96.8333 73.6667Z' stroke='white' stroke-width='5.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M82.1666 103C84.2566 105.226 87.5859 106.667 91.3333 106.667C95.0806 106.667 98.4099 105.226 100.5 103M80.3663 88.3333H80.3333M102.366 88.3333H102.333' stroke='white' stroke-width='5.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3cdefs%3e%3cfilter id='filter0_d_0_1' x='0.333282' y='0' width='183' height='183' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'%3e%3cfeFlood flood-opacity='0' result='BackgroundImageFix'/%3e%3cfeColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0' result='hardAlpha'/%3e%3cfeMorphology radius='7' operator='dilate' in='SourceAlpha' result='effect1_dropShadow_0_1'/%3e%3cfeOffset/%3e%3cfeGaussianBlur stdDeviation='9'/%3e%3cfeComposite in2='hardAlpha' operator='out'/%3e%3cfeColorMatrix type='matrix' values='0 0 0 0 0.623529 0 0 0 0 0.847059 0 0 0 0 0.92549 0 0 0 1 0'/%3e%3cfeBlend mode='normal' in2='BackgroundImageFix' result='effect1_dropShadow_0_1'/%3e%3cfeBlend mode='normal' in='SourceGraphic' in2='effect1_dropShadow_0_1' result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function S(){var n,t,a,o,r=p(),s=r.state,i=r.toggleChat,l=s.config;return e.createElement("div",{className:g},e.createElement("div",{className:_},e.createElement("img",{crossOrigin:"anonymous",src:(o=null===(n=null==l?void 0:l.agent)||void 0===n?void 0:n.image,(null==o?void 0:o.startsWith("http"))?"".concat("https://images.weserv.nl","/?url=").concat(o):o),alt:null===(t=null==l?void 0:l.agent)||void 0===t?void 0:t.name,className:f,onError:function(e){e.currentTarget.src=w}})),e.createElement("div",{className:x},e.createElement("span",{className:v},e.createElement("span",{className:y})),e.createElement("h3",null,null===(a=null==l?void 0:l.agent)||void 0===a?void 0:a.name)),e.createElement("div",{className:E},e.createElement("button",{onClick:i,className:b},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))))}var M="chatMessages-module_chatContent__tatLI",k="chatMessages-module_message__AZVlH",N="chatMessages-module_messageUser__PEH0h",L="chatMessages-module_messageBot__M6Tq4",H="chatMessages-module_messageBubble__2BANe",T="chatMessages-module_messageTimestamp__ewtsN",O="chatMessages-module_errorBtn__EKMZE",A="chatMessages-module_errorTag__lSpps",B="chatMessages-module_waveLoader__crQbJ",I="chatMessages-module_dot__IecO8";function R(){var n=p().state,t=n.messages,a=n.followUpQuestions,o=n.quickMessages;console.log("ðŸ”¥ ~ ChatMessages ~ followUpQuestions, quickMessages:",a,o);var r=e.useRef(null);return e.useEffect((function(){var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]),n.allMessagesLoaded?e.createElement("div",{className:M},t.map((function(n){return e.createElement("div",{key:n.id,className:"".concat(k," ").concat("CUSTOMER"===n.sender?N:L)},e.createElement("div",{className:H},n.text),n.sendError&&"CUSTOMER"===n.sender?e.createElement("button",{className:O,onClick:function(){return console.log("Resend message")}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",height:"14",width:"14"},e.createElement("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32"}),e.createElement("path",{fill:"currentColor",stroke:"none",d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),e.createElement("span",{className:A},"Failed")):e.createElement("div",{className:T},function(e){var n=new Date(e),t=(new Date).getTime()-n.getTime(),a=Math.floor(t/6e4);if(a<1)return"now";if(1===a)return"1 min ago";if(a<60)return"".concat(a," mins ago");if(a<1440){var o=Math.floor(a/60);return"".concat(o," hour").concat(o>1?"s":""," ago")}return n.toLocaleDateString(void 0,{hour:"2-digit",minute:"2-digit",day:"numeric",month:"short",year:"numeric"}).replace(",","")}(n.sendAt)))})),a&&a.length>0&&a.map((function(n){return e.createElement("div",{className:"".concat(k," ").concat(L)},e.createElement("p",{className:H},n))})),e.createElement("div",{ref:r}),n.messagesLoading&&n.allMessagesLoaded&&e.createElement("div",{className:B},e.createElement("div",{className:I}),e.createElement("div",{className:I}),e.createElement("div",{className:I}))):e.createElement("div",{className:M},e.createElement("div",{className:B,style:{justifyContent:"center",marginTop:20}},e.createElement("div",{className:I}),e.createElement("div",{className:I}),e.createElement("div",{className:I})))}C(".chatMessages-module_chatContent__tatLI {\n  /* flex-grow: 1; */\n  height: 100%;\n  overflow-y: auto;\n  padding: 16px;\n}\n\n.chatMessages-module_message__AZVlH {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 16px;\n}\n\n.chatMessages-module_messageUser__PEH0h {\n  align-items: flex-end;\n}\n\n.chatMessages-module_messageBot__M6Tq4 {\n  align-items: flex-start;\n}\n\n.chatMessages-module_messageBubble__2BANe {\n  max-width: 70%;\n  padding: 18px;\n  border-radius: 20px;\n  font-size: 14px;\n}\n\n.chatMessages-module_messageUser__PEH0h .chatMessages-module_messageBubble__2BANe {\n  background-color: #2196f3;\n  color: white;\n}\n\n.chatMessages-module_messageBot__M6Tq4 .chatMessages-module_messageBubble__2BANe {\n  background-color: #2196f325;\n  border: 1px solid #2196f3;\n  color: #2196f3;\n}\n\n.chatMessages-module_messageTimestamp__ewtsN {\n  font-size: 12px;\n  color: #888;\n  margin-top: 4px;\n}\n\n.chatMessages-module_errorBtn__EKMZE {\n  display: flex;\n  justify-content: flex-end;\n  justify-content: center;\n  margin-top: 5px;\n  cursor: pointer;\n  color: #f00;\n}\n\n.chatMessages-module_errorTag__lSpps {\n  color: #f00;\n  font-size: 12px;\n  margin-left: 5px;\n}\n\n.chatMessages-module_waveLoader__crQbJ {\n  display: flex;\n  /* justify-content: center; */\n  align-items: center;\n}\n\n.chatMessages-module_dot__IecO8 {\n  width: 7px;\n  height: 7px;\n  margin: 0 2px;\n  background-color: #2196f3;\n  border-radius: 50%;\n  animation: chatMessages-module_wave__LRmb1 1.2s infinite ease-in-out both;\n}\n\n.chatMessages-module_dot__IecO8:nth-child(1) {\n  animation-delay: -0.24s;\n}\n\n.chatMessages-module_dot__IecO8:nth-child(2) {\n  animation-delay: -0.12s;\n  background-color: #2196f395;\n}\n\n.chatMessages-module_dot__IecO8:nth-child(3) {\n  animation-delay: 0;\n  background-color: #2196f385;\n}\n\n@keyframes chatMessages-module_wave__LRmb1 {\n  0%,\n  60%,\n  100% {\n    transform: initial;\n  }\n  30% {\n    transform: translateY(-10px);\n  }\n}\n\n.chatMessages-module_followUpQuestions__CwBXD {\n  margin: 5px 0;\n  padding-top: 5px;\n  border-top: 1.5px solid #2196f380;\n  color: #2196f3;\n}\n");var F="chatComposer-module_messageComposer__sWUVb",G="chatComposer-module_chatForm__o3HLI",U="chatComposer-module_poweredBy__u33EA";function V(){var n=this,t=e.useState(""),a=t[0],o=t[1],i=p().sendMessage;return e.createElement("div",{className:F},e.createElement("form",{className:G,onSubmit:function(e){return r(n,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return e.preventDefault(),a.trim()?(o(""),[4,i(a)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}},e.createElement("textarea",{placeholder:"Enter your message...","aria-label":"Message input",value:a,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){return r(n,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return"Enter"!==e.key||e.shiftKey?[3,2]:(e.preventDefault(),a.trim()?(o(""),[4,i(a)]):[3,2]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}}),e.createElement("button",{type:"submit","aria-label":"Send message"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-send"},e.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})))),e.createElement("div",{className:U},"Powered by"," ",e.createElement("a",{href:"https://www.proagents.co",target:"_blank"},e.createElement("svg",{width:"59",height:"14",viewBox:"0 0 59 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M1.60039 11C1.60039 10.1327 1.60039 9.26981 1.60039 8.41123C1.60039 7.54396 1.60039 6.6767 1.60039 5.80944C1.60039 5.51457 1.65243 5.31077 1.7565 5.19802C1.86924 5.08528 2.06438 5.02457 2.3419 5.0159C2.71482 5.00723 3.1181 5.00289 3.55173 5.00289C3.98536 5.00289 4.41465 5.00289 4.83961 5.00289C5.27324 5.00289 5.66351 5.01156 6.01041 5.02891C6.38334 5.03758 6.69989 5.10696 6.96006 5.23705C7.22891 5.35847 7.43272 5.54926 7.57148 5.80944C7.71892 6.06095 7.79263 6.39051 7.79263 6.79812C7.79263 7.25777 7.71458 7.63503 7.55847 7.9299C7.40237 8.22476 7.18122 8.44158 6.89502 8.58034C6.6175 8.71043 6.28794 8.77548 5.90634 8.77548C5.43802 8.7668 4.96103 8.76247 4.47536 8.76247C3.9897 8.76247 3.5127 8.76247 3.04438 8.76247C3.04438 8.563 3.04438 8.41556 3.04438 8.32016C3.05305 8.21609 3.07473 8.14671 3.10942 8.11202C3.14412 8.06866 3.20482 8.04698 3.29155 8.04698C3.44766 8.04698 3.64279 8.04698 3.87695 8.04698C4.11978 8.04698 4.37563 8.04698 4.64448 8.04698C4.91333 8.04698 5.1605 8.04698 5.38599 8.04698C5.57678 8.04698 5.75023 8.01229 5.90634 7.9429C6.06245 7.86485 6.1882 7.73476 6.2836 7.55264C6.379 7.37051 6.4267 7.12334 6.4267 6.81113C6.4267 6.49024 6.36165 6.24307 6.23156 6.06962C6.11015 5.8875 5.90201 5.78776 5.60714 5.77042C5.34696 5.7444 5.06943 5.73139 4.77457 5.73139C4.4797 5.73139 4.19784 5.73573 3.92899 5.7444C3.66014 5.7444 3.42598 5.74873 3.22651 5.75741C3.18314 5.75741 3.12243 5.77909 3.04438 5.82245C2.975 5.85714 2.94031 5.93086 2.94031 6.0436C2.94031 6.8675 2.94031 7.6914 2.94031 8.5153C2.94031 9.3392 2.94031 10.1674 2.94031 11H1.60039ZM9.79672 11H8.96415C8.83406 11 8.73432 10.9653 8.66494 10.8959C8.59556 10.8265 8.56087 10.6965 8.56087 10.5057V6.06962C8.76901 6.00891 9.05955 5.94387 9.43247 5.87449C9.80539 5.80511 10.252 5.77042 10.7724 5.77042C11.2841 5.77042 11.6873 5.80511 11.9822 5.87449C12.2771 5.9352 12.4939 6.03059 12.6327 6.16068C12.7801 6.2821 12.8712 6.43387 12.9058 6.616C12.9492 6.78945 12.9709 6.99325 12.9709 7.22741H11.8001L11.7871 7.04529C11.7871 6.83715 11.7307 6.68971 11.618 6.60299C11.5139 6.50759 11.3881 6.44688 11.2407 6.42086C11.0933 6.39484 10.9458 6.38183 10.7984 6.38183C10.5729 6.38183 10.3691 6.40352 10.187 6.44688C10.0135 6.49024 9.88344 6.54661 9.79672 6.616V11Z",fill:"#008FFA"}),e.createElement("path",{d:"M21.4411 10.9763C20.5014 10.9763 19.6536 10.9462 18.8977 10.886C18.1623 10.8259 17.5188 10.7056 16.9672 10.5251C16.4361 10.3447 16.0275 10.0783 15.7415 9.72596C15.4555 9.37363 15.3125 8.90959 15.3125 8.33384C15.3125 7.75809 15.4555 7.29405 15.7415 6.94173C16.0275 6.5894 16.4361 6.32301 16.9672 6.14255C17.5188 5.96209 18.1623 5.84179 18.8977 5.78164C19.6536 5.72148 20.5014 5.69141 21.4411 5.69141C22.3604 5.69141 23.1877 5.72148 23.9231 5.78164C24.679 5.84179 25.3225 5.96209 25.8536 6.14255C26.3848 6.32301 26.7934 6.5894 27.0794 6.94173C27.3654 7.29405 27.5084 7.75809 27.5084 8.33384C27.5084 8.91819 27.3654 9.38652 27.0794 9.73884C26.7934 10.0912 26.3848 10.3576 25.8536 10.538C25.3225 10.7099 24.679 10.8259 23.9231 10.886C23.1877 10.9462 22.3604 10.9763 21.4411 10.9763ZM21.4411 10.4736C22.2582 10.4736 22.9528 10.422 23.5248 10.3189C24.1172 10.2158 24.5666 10.0138 24.8731 9.71306C25.1795 9.4123 25.3327 8.95256 25.3327 8.33384C25.3327 7.71513 25.1795 7.25538 24.8731 6.95462C24.5666 6.65385 24.1172 6.45191 23.5248 6.34879C22.9528 6.24567 22.2582 6.19411 21.4411 6.19411C20.6239 6.19411 19.9191 6.24567 19.3267 6.34879C18.7547 6.45191 18.3053 6.65385 17.9784 6.95462C17.672 7.25538 17.5188 7.71513 17.5188 8.33384C17.5188 8.95256 17.672 9.4123 17.9784 9.71306C18.3053 10.0138 18.7547 10.2158 19.3267 10.3189C19.9191 10.422 20.6239 10.4736 21.4411 10.4736Z",fill:"#008FFA"}),e.createElement("path",{d:"M29.7101 11L31.5314 5.93953C31.6528 5.62732 31.8176 5.38882 32.0257 5.22404C32.2339 5.05059 32.5721 4.96386 33.0404 4.96386C33.4567 4.96386 33.7732 5.04192 33.9901 5.19802C34.2156 5.35413 34.389 5.6013 34.5104 5.93953L36.3707 11H34.9267L34.3673 9.43893H31.2842L30.7378 11H29.7101ZM31.4924 8.87955H34.1202L33.3006 6.49892C33.2659 6.38617 33.2182 6.28644 33.1575 6.19971C33.1055 6.11298 32.9884 6.06962 32.8063 6.06962C32.6155 6.06962 32.4897 6.11732 32.429 6.21272C32.3683 6.29945 32.3206 6.39484 32.2859 6.49892L31.4924 8.87955ZM39.2583 12.509C39.0068 12.509 38.7553 12.5004 38.5038 12.483C38.2522 12.4657 38.0181 12.4353 37.8013 12.392C37.5931 12.3486 37.4197 12.2835 37.2809 12.1968C37.1508 12.1188 37.0858 12.0147 37.0858 11.8846C37.0858 11.8499 37.0858 11.8022 37.0858 11.7415C37.0858 11.6808 37.0858 11.6374 37.0858 11.6114C37.1985 11.6721 37.3676 11.7242 37.5931 11.7675C37.8273 11.8196 38.0745 11.8586 38.3346 11.8846C38.6035 11.9193 38.8376 11.9366 39.0371 11.9366C39.5401 11.9366 39.9261 11.8629 40.1949 11.7155C40.4638 11.5681 40.6459 11.3296 40.7413 11C40.8367 10.6791 40.867 10.2498 40.8323 9.71212H41.0405C40.9538 9.99831 40.8107 10.2195 40.6112 10.3756C40.4204 10.5317 40.1862 10.6401 39.9087 10.7008C39.6312 10.7615 39.319 10.7919 38.9721 10.7919C38.4604 10.7919 38.0354 10.7311 37.6972 10.6097C37.3676 10.4796 37.1248 10.2411 36.9687 9.89424C36.8213 9.54734 36.7475 9.04433 36.7475 8.38521C36.7475 7.83016 36.7952 7.38352 36.8906 7.04529C36.9947 6.69839 37.1595 6.43387 37.385 6.25175C37.6191 6.06095 37.9184 5.9352 38.2826 5.87449C38.6555 5.80511 39.1152 5.77042 39.6615 5.77042C39.8437 5.77042 40.0605 5.77909 40.312 5.79643C40.5635 5.81378 40.8107 5.83112 41.0535 5.84847C41.305 5.86581 41.5218 5.88316 41.7039 5.90051C41.8947 5.91785 42.0248 5.93086 42.0942 5.93953C42.0855 5.96555 42.0769 6.03493 42.0682 6.14767C42.0682 6.26042 42.0682 6.39051 42.0682 6.53794C42.0682 6.6767 42.0682 6.81547 42.0682 6.95423L42.0552 10.0373C42.0552 10.6704 41.9598 11.1648 41.769 11.5204C41.5782 11.8846 41.2747 12.1404 40.8584 12.2879C40.4508 12.4353 39.9174 12.509 39.2583 12.509ZM39.3103 10.0894C39.5965 10.0894 39.8523 10.0547 40.0778 9.9853C40.3033 9.91592 40.4854 9.79884 40.6242 9.63406C40.7716 9.46928 40.8454 9.2438 40.8454 8.9576V6.56396C40.7673 6.54661 40.6025 6.52493 40.351 6.49892C40.0995 6.4729 39.809 6.45989 39.4794 6.45989C39.1065 6.45989 38.8116 6.50759 38.5948 6.60299C38.378 6.69839 38.2219 6.87617 38.1265 7.13635C38.0311 7.39653 37.9834 7.77379 37.9834 8.26813C37.9834 8.75379 38.0268 9.13105 38.1135 9.3999C38.2089 9.66008 38.352 9.84221 38.5428 9.94628C38.7336 10.0417 38.9894 10.0894 39.3103 10.0894ZM45.6453 11.0781C45.1163 11.0781 44.6697 11.0434 44.3054 10.974C43.9498 10.9046 43.6636 10.7745 43.4468 10.5837C43.2387 10.3929 43.0913 10.1284 43.0045 9.79017C42.9178 9.45194 42.8744 9.01397 42.8744 8.47627C42.8744 7.8345 42.9568 7.31414 43.1216 6.9152C43.2864 6.51626 43.5769 6.22573 43.9932 6.0436C44.4182 5.85281 45.0079 5.75741 45.7624 5.75741C46.3522 5.75741 46.8205 5.83112 47.1674 5.97856C47.523 6.11732 47.7788 6.33847 47.9349 6.64201C48.091 6.94555 48.1691 7.33149 48.1691 7.79981V8.63238H44.5136C44.5136 8.49362 44.5439 8.38087 44.6046 8.29415C44.6653 8.20742 44.7781 8.16406 44.9429 8.16406H47.0763L47.0633 7.82582C47.0546 7.34016 46.9506 6.98458 46.7511 6.75909C46.5603 6.53361 46.2134 6.42086 45.7104 6.42086C45.2941 6.42086 44.9689 6.48591 44.7347 6.616C44.5006 6.74608 44.3358 6.95856 44.2404 7.25343C44.145 7.53963 44.0973 7.93857 44.0973 8.45025C44.0973 8.97928 44.1493 9.38256 44.2534 9.66008C44.3661 9.92893 44.5483 10.1111 44.7998 10.2065C45.0599 10.3019 45.4199 10.3496 45.8795 10.3496C46.0443 10.3496 46.2351 10.3452 46.4519 10.3365C46.6774 10.3279 46.9029 10.3149 47.1284 10.2975C47.3625 10.2802 47.5707 10.2585 47.7528 10.2325C47.9349 10.2065 48.0563 10.1804 48.117 10.1544V10.3365C48.117 10.4319 48.0954 10.5273 48.052 10.6227C48.0086 10.7181 47.9176 10.7962 47.7788 10.8569C47.5967 10.9436 47.3278 11 46.9722 11.026C46.6253 11.0607 46.183 11.0781 45.6453 11.0781ZM49.2809 11C49.0381 11 48.9167 10.8786 48.9167 10.6358V6.16068C49.1769 6.05661 49.5281 5.96555 49.9704 5.8875C50.4127 5.80077 50.9157 5.75741 51.4794 5.75741C52.0345 5.75741 52.4768 5.7921 52.8063 5.86148C53.1446 5.93086 53.4004 6.0436 53.5739 6.19971C53.7473 6.34714 53.8601 6.54228 53.9121 6.78511C53.9728 7.02794 54.0032 7.32715 54.0032 7.68273V10.5057C54.0032 10.6271 53.9902 10.7268 53.9641 10.8049C53.9468 10.8829 53.8991 10.935 53.821 10.961C53.7517 10.987 53.6432 11 53.4958 11H52.7803V7.42255C52.7803 7.08432 52.6763 6.84148 52.4681 6.69405C52.26 6.54661 51.9304 6.4729 51.4794 6.4729C51.3407 6.4729 51.1846 6.48591 51.0111 6.51192C50.8377 6.52927 50.6729 6.55962 50.5168 6.60299C50.3607 6.64635 50.2349 6.70272 50.1395 6.7721V11H49.2809ZM56.5024 11.039C56.1555 11.039 55.8823 11 55.6828 10.9219C55.492 10.8439 55.3533 10.7051 55.2666 10.5057C55.1798 10.3062 55.1365 10.0373 55.1365 9.69911V6.4729H54.6161V5.80944H55.1365V4.95085C55.1365 4.79475 55.1495 4.682 55.1755 4.61262C55.2015 4.53457 55.2449 4.48687 55.3056 4.46952C55.375 4.44351 55.4747 4.4305 55.6048 4.4305H56.3593C56.3593 4.44784 56.3593 4.48687 56.3593 4.54758C56.3593 4.59961 56.3593 4.67767 56.3593 4.78174V5.80944H57.5821V6.4729H56.3593V9.58203C56.3593 9.92026 56.394 10.1631 56.4634 10.3105C56.5328 10.4493 56.6975 10.5187 56.9577 10.5187C57.0444 10.5187 57.1398 10.51 57.2439 10.4927C57.3567 10.4753 57.4347 10.458 57.4781 10.4406V10.948C57.426 10.9566 57.3133 10.974 57.1398 11C56.9664 11.026 56.7539 11.039 56.5024 11.039Z",fill:"#008FFA"})))))}C(".chatComposer-module_messageComposer__sWUVb {\n  border-top: 1px solid #e0e0e0;\n  padding: 12px;\n}\n\n.chatComposer-module_chatForm__o3HLI {\n  display: flex;\n  align-items: first flex-end;\n  gap: 8px;\n  width: 100%;\n}\n\n.chatComposer-module_chatForm__o3HLI textarea {\n  flex-grow: 1;\n  padding: 8px;\n  border: none;\n  outline: none;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.chatComposer-module_chatForm__o3HLI button {\n  height: 40px;\n  width: 40px;\n  background-color: #2196f3;\n  color: white;\n  border: none;\n  border-radius: 50%;\n  padding: 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.chatComposer-module_chatForm__o3HLI button svg {\n  width: 20px;\n  height: 20px;\n}\n\n.chatComposer-module_poweredBy__u33EA {\n  font-size: 8px;\n  text-align: right;\n  color: #666;\n  margin-top: 12px;\n  padding-bottom: 8px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.chatComposer-module_poweredBy__u33EA a {\n  margin-left: 4px;\n}\n");var j={chatContainer:"chatContainer-module_chatContainer__uLwFL",chatContainerOpen:"chatContainer-module_chatContainerOpen__oXqZv",chatCard:"chatContainer-module_chatCard__wa5lD"};C(".chatContainer-module_chatContainer__uLwFL {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  width: calc(100% - 40px);\n  margin: 0 20px;\n  height: 0;\n  transition: height 0.3s ease-in-out, opacity 0.3s ease-in-out;\n  opacity: 0;\n  z-index: -999;\n  overflow: visible;\n}\n\n.chatContainer-module_chatContainerOpen__oXqZv {\n  height: 85vh;\n  opacity: 1;\n  z-index: 999;\n}\n\n.chatContainer-module_chatCard__wa5lD {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n}\n\n@media (min-width: 768px) {\n  .chatContainer-module_chatContainer__uLwFL {\n    bottom: 16px;\n    right: 16px;\n    width: 450px;\n    height: 70vh;\n  }\n\n  .chatContainer-module_chatContainer__uLwFL:not(.chatContainer-module_chatContainerOpen__oXqZv) {\n    height: 0;\n    opacity: 0;\n    z-index: -999;\n  }\n\n  .chatContainer-module_chatCard__wa5lD {\n    width: 100%;\n    height: 100%;\n    border-radius: 8px;\n  }\n}\n\n@media (max-width: 767px) and (min-width: 425px) {\n  .chatContainer-module_chatContainer__uLwFL {\n    margin: 0 25px; /* 25px margin on both sides */\n    width: calc(100% - 50px); /* Adjust width according to the margin */\n  }\n}\n");var K="chatBubble-module_chatToggle__ih2-3",D="chatBubble-module_chatToggleLogo__jFjcA",Z="chatBubble-module_waveLoader__1ydRE",q="chatBubble-module_dot__e5MfS";C(".chatBubble-module_chatToggle__ih2-3 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  position: fixed;\n  bottom: 16px;\n  right: 16px;\n  background-color: #2196f3;\n  color: white;\n  border-radius: 50%;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  height: 80px;\n  width: 80px;\n  cursor: pointer;\n  animation: chatBubble-module_chatToggleAnimation__7yaDR 5s ease-in-out infinite alternate;\n  z-index: 999;\n}\n\n.chatBubble-module_chatToggleLogo__jFjcA {\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n@keyframes chatBubble-module_chatToggleAnimation__7yaDR {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(0.85);\n    opacity: 0.5;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n/* on over remove animation */\n.chatBubble-module_chatToggle__ih2-3:hover {\n  animation: none;\n}\n\n@media (max-width: 425px) {\n  .chatBubble-module_chatToggle__ih2-3 {\n    height: 60px;\n    width: 60px;\n    bottom: 10px;\n    right: 10px;\n  }\n}\n\n.chatBubble-module_waveLoader__1ydRE {\n  display: flex;\n  /* justify-content: center; */\n  align-items: center;\n}\n\n.chatBubble-module_dot__e5MfS {\n  width: 8px;\n  height: 8px;\n  margin: 0 2px;\n  background-color: #fff;\n  border-radius: 50%;\n  animation: chatBubble-module_wave__I2-94 1.2s infinite ease-in-out both;\n}\n\n.chatBubble-module_dot__e5MfS:nth-child(1) {\n  animation-delay: -0.24s;\n}\n\n.chatBubble-module_dot__e5MfS:nth-child(2) {\n  animation-delay: -0.12s;\n  background-color: #ffffff95;\n}\n\n.chatBubble-module_dot__e5MfS:nth-child(3) {\n  animation-delay: 0;\n  background-color: #ffffff85;\n}\n\n@keyframes chatBubble-module_wave__I2-94 {\n  0%,\n  60%,\n  100% {\n    transform: initial;\n  }\n  30% {\n    transform: translateY(-10px);\n  }\n}\n");var Q=function(){var n,t=p(),a=t.toggleChat,o=t.state,r=o.isOpen,s=o.error,i=o.loading,l=o.config;return r?null:e.createElement("button",{disabled:i||r||!!s,onClick:a,className:K},i?e.createElement("div",{className:Z,style:{justifyContent:"center",marginTop:20}},e.createElement("div",{className:q}),e.createElement("div",{className:q}),e.createElement("div",{className:q})):e.createElement("img",{crossOrigin:"anonymous",className:D,src:null===(n=null==l?void 0:l.agent)||void 0===n?void 0:n.image,alt:"Company Logo",onError:function(e){e.currentTarget.src=w}}))},z=e.memo((function(){var n=p().state,t=n.isOpen,a=n.error;return e.createElement(e.Fragment,null,!a&&e.createElement("div",{className:"".concat(j.chatContainer," ").concat(t?j.chatContainerOpen:j.chatContainerClosed)},e.createElement("div",{className:j.chatCard},e.createElement(S,null),e.createElement(R,null),e.createElement(V,null))),e.createElement(Q,null))}));exports.ProAgent=function(n){var t=n.accessKey;return e.createElement(h,{accessKey:t},e.createElement(z,null))};
